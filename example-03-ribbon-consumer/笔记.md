#### 整合RestTemplate 步骤
1、手动创建一个RestTemplate的实例
```java
@Configuration
    public class RestTemplateConfig {
    @Bean
    public RestTemplate restTemplate(){
        return new RestTemplate();
    }
}
```
在 Spring Boot 1.3版本中，会默认提供一个RestTemplate的实例Bean，
而在 Spring Boot 1.4以及以后的版本中，这个默认的bean不再提供了，
我们需要在Application启动时，手动创建一个RestTemplate的



#### 整合ribbon步骤
1、引入相关依赖
```xml
<dependency>
  <groupId>org.springframework.cloud</groupId>
  <artifactId>spring-cloud-starter-netflix-ribbon</artifactId>
</dependency>
```
注意：如果使用的是eureka client 和 consul client,无须引入依赖,因为在eureka,consul中默认集成了ribbon组件

2、使用restTemplate + ribbon进行服务调用，具体有三种方式
#### restTemplate + ribbon进行服务调用三种方式
> 使用discovery Client形式调用
详细代码见：DiscoveryClientController.java

> 使用loadBalance Client形式调用
详细代码见：LoadBalanceClientController.java

> 使用loadBalance注解调用
1、配置类生成RestTemplate实例时，使用@LoadBalanced注解
```java
@Configuration
public class RestTemplateConfig {
    @Bean
    @LoadBalanced
    public RestTemplate loadBalanceRestTemplate(@Qualifier("simpleClientHttpRequestFactory")
                                                              ClientHttpRequestFactory factory){
        return new RestTemplate(factory);
    }

    @Bean
    public ClientHttpRequestFactory simpleClientHttpRequestFactory(){
         SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();
         factory.setConnectTimeout(15000);
         // 获取数据超时时间 毫秒
         factory.setReadTimeout(5000);
         return factory;
     }
}
```
详细使用代码见：LoadBalanceController.java

需要注意的是：第三种方式调用，需要将被调用方的eureka.instance.hostname和IP进行映射，如
生产者有个实例如下配置：
```properties
eureka.instance.hostname=ribbon-producer-8302
```
则打开/etc/hosts文件，加入以下一行：
```shell script
127.0.0.1 ribbon-producer-8302
```