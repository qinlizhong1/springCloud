#### 整合nacos
1、引入相关依赖
```xml
 <dependency>
     <groupId>com.alibaba.cloud</groupId>
     <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>
 </dependency>
```
2、进行相关配置
```properties
#指定当前服务端口
server.port=9101
#指定服务名称																									
spring.application.name=nacosclient-9101
#将Nacos设置为服务注册发现，默认为true
spring.cloud.nacos.discovery.enabled=true
#指定nacos服务地址
spring.cloud.nacos.server-addr=localhost:8848
#指定注册中心地址,即Nacos Server的ip端口
spring.cloud.nacos.discovery.server-addr=${spring.cloud.nacos.server-addr}

#暴露所有web端点
management.endpoints.web.exposure.include=*

```
3、启动类上加上注解
```java
@EnableDiscoveryClient
@SpringBootApplication
public class Alibaba01NacosProviderApplication {

    public static void main(String[] args) {
        SpringApplication.run(Alibaba01NacosProviderApplication.class, args);
        System.out.println("-------------  nacos provider 启动成功 --------------");
    }
}
```
需要注意的是：新版本之后这步可以省略不写，即不需要在启动类上加注解也是可以的。


#### nacos安装启动
使用nacos需要安装nacos
 `安装包下载地址：`
官网：https://link.zhihu.com/?target=https%3A//github.com/alibaba/nacos/releases
云盘：https://pan.baidu.com/s/1cQ2lym1FAUsL1cML6mtFCg   提取码: 1s5v

 `Nacos支持三种部署模式：`
-- 单机模式 - 用于测试和单机试用。
-- 集群模式 - 用于生产环境，确保高可用。
-- 多集群模式 - 用于多数据中心场景。
这里只介绍单机模式安装，安装步骤如下：

1、下载安装包
下载安装包并解压至安装目录，这里我安装到/Users/qin/software目录下
```shell script
wget https://github.wuyanzheshui.workers.dev/alibaba/nacos/releases/download/1.4.2/nacos-server-1.4.2.tar.gz
tar -xf nacos-server-1.4.2.tar.gz 

tar -zxvf nacos-server-1.4.2.tar.gz -C /Users/qin/software
```

2、配置数据存储方式
Nacos支持两种数据存储方式：
-- 使用内置数据源实现数据的存储，使用这种方式直接启动Nacos即可
-- 使用MySQL进行数据存储，这种方式需要先有个MySQL
为了方便观察数据存储的基本情况，这里我们使用MySQL的存储方式（这里假设环境中已经安装了mysql）。

修改配置文件：

(1)修改 application.properties文件
application.properties配置文件均位于/Users/qin/software/nacos/conf目录下
```properties
# 配置数据库（只需要取消下面代码中的注释即可，并修改用户名和密码）
spring.datasource.platform=mysql

### Count of DB:
db.num=1

### Connect URL of DB,指定的数据库提前需要创建:
db.url.0=jdbc:mysql://127.0.0.1:3306/nacos?characterEncoding=utf8&connectTimeout=1000&socketTimeout=3000&autoReconnect=true&useUnicode=true&useSSL=false&serverTimezone=UTC
db.user.0=root
db.password.0=19870522
```

(2)修改启动脚本startup.sh
启动脚本位于/Users/qin/software/nacos/bin/目录下，修改模式设置为单机模式
```shell scrip
export MODE="standalone"
```


(3)执行sql脚本
执行/Users/qin/software/nacos/conf/nacos-mysql.sql脚本
执行成功后，会发现nacos库中多了很多表。

3、启动
/Users/qin/software/nacos/bin/startup.sh
在浏览器中输入地址127.0.0.1:8848/nacos/index.html即可打开Nacos控制台，初始账号密码为：nacos | nacos


4、停止
/Users/qin/software/nacos/bin/shutdown.sh









#### 执行sql脚本方式
1、在shell命令行中执行
```shell script
mysql -u username -p password database_name < script.sql
```

2、在MySQL命令行中逐行执行脚本：
```
mysql> source script.sql;
```